---
title: 베이즈 정리
created: 2025-02-04 02:42
alias:
tags:
---

## 개념
"어떤 사건이 발생했을 때, 
원인이 무엇인지 확률적으로 추론하는 방법"을 제공하는 
수학적 원리야.  

SLAM에서 사용되는 확률 모델을 이해하려면, **베이즈 정리(Bayes' Theorem)** 의 개념을 먼저 이해하는 것이 중요해.


## 베이즈 정리 기본 공식

$$
P(A∣B)=P(B∣A)P(A)P(B)P(A|B) = \frac{P(B|A) P(A)}{P(B)}
$$



여기서:

- P(A∣B) : **B가 주어졌을 때 A가 발생할 확률** (사후 확률, Posterior)
- P(B∣A) : **A가 발생했을 때 B가 발생할 확률** (우도, Likelihood)
- P(A) : **A가 발생할 확률** (사전 확률, Prior)
- P(B) : **B가 발생할 전체 확률** (Evidence)

즉, **"B라는 정보가 주어졌을 때 A가 일어날 확률"을 구하는 방법** 이 베이즈 정리야.

---

## 베이즈 정리 예제 (직관적인 이해)

### **(1) 질병 진단 예제**

예를 들어, 어떤 질병이 있을 확률이 1% ( P(A)=0.01 )이고,  
이 질병을 검출하는 테스트의 정확도가 90% ( P(B|A) = 0.9 )라고 하자.  
그런데 **건강한 사람도 5% 확률 (P(B|¬A) = 0.05)로 잘못 양성 반응이 나올 수 있다.**

우리가 구하고 싶은 것은?

- **"검사 결과가 양성(B)일 때, 실제로 병(A)에 걸렸을 확률 P(A|B) 은 얼마인가?"**

베이즈 정리를 적용하면:

$$
P(A|B) = \frac{P(B|A) P(A)}{P(B)}
$$

여기서 P(B)P(B) (전체 양성 확률)는:

$P(B)=P(B∣A)P(A)+P(B∣¬A)P(¬A)$
$=(0.9×0.01)+(0.05×0.99)$
$=0.009+0.0495=0.0585$

이제 베이즈 정리를 적용하면:

$P(A∣B)=0.9×0.010.0585=0.0090.0585≈0.154$

즉, **검사에서 양성이 나와도 실제로 병에 걸렸을 확률은 약 15.4%** 밖에 안 된다는 의미야!  
이게 바로 **베이즈 정리를 활용한 확률 추론의 핵심**이야.

---

## **3. SLAM에서 베이즈 정리 적용**

이제 SLAM(Simultaneous Localization and Mapping)에서 베이즈 정리를 어떻게 적용하는지 보자.

### **(1) SLAM 문제란?**

- **X**: 로봇의 위치(경로, 위치 추정)
- **M**: 환경의 지도(Map)
- **Z**: 센서를 통해 측정된 값(예: 카메라, LiDAR 등의 데이터)

우리가 원하는 것은?

- 센서 데이터 **ZZ가 주어졌을 때, 가장 가능성 높은 로봇의 위치 XX 와 지도 MM 을 찾는 것!** 
- 
$$
{X^*, M^*} = \underset{X, M}{\arg\max} P(X, M | Z) 
$$
- 즉, **주어진 센서 측정값 ZZ 에서 가장 가능성 높은 XX 와 MM 을 찾는 문제야.**

### **(2) 베이즈 정리 적용**

베이즈 정리를 적용하면:

$$P(X, M | Z) = \frac{P(Z | X, M) P(X, M)}{P(Z)}$$

여기서:

- P(X,M∣Z)P(X, M | Z): **센서 데이터 ZZ 가 주어졌을 때, 로봇의 위치와 지도 X,MX, M 의 확률 (사후 확률, Posterior)**
- P(Z∣X,M)P(Z | X, M): **로봇의 위치와 지도 X,MX, M 가 주어졌을 때, 센서가 측정한 데이터 ZZ 가 나올 확률 (우도, Likelihood)**
- P(X,M)P(X, M): **초기 상태에서 로봇의 위치와 지도의 확률 (사전 확률, Prior)**
- P(Z)P(Z): **센서 데이터가 나올 전체 확률 (Evidence, 중요하지만 계산에서는 생략 가능)**

즉, **센서 데이터를 보고 가장 가능성 높은 로봇의 위치와 지도를 업데이트하는 과정이 SLAM의 핵심!**

---

## **4. 독립성 가정과 식의 변형**

**센서 측정 ZkZ_k 가 독립이라 가정하면?**

$$P(Z | X, M) = \prod_{k=1}^{m} P(Z_k | X_k, M_k)$$

즉, 각 시점 kk 에서의 측정값 ZkZ_k 이 서로 독립적이라면 **곱셈으로 확률을 계산할 수 있음.**

이 가정을 통해 식이 단순해지고, 실시간으로 확률을 업데이트하는 **베이즈 필터(Kalman Filter, Particle Filter 등)** 를 쉽게 적용할 수 있어.

---

## **5. 요약**

1. **베이즈 정리 기본 공식**
    $$P(A∣B)= \frac{P(B|A) P(A)}{P(B)}$$
    - **우도 (Likelihood)**: $P(B|A)$
    - **사전 확률 (Prior)**: $P(A)$
    - **사후 확률 (Posterior)**: $P(A|B)$
      
2. **베이즈 정리 예제**
    - 병에 걸릴 확률을 검사 결과를 이용해 갱신하는 과정.
      
3. **SLAM에서 베이즈 정리 적용**
    - 센서 데이터 ZZ 를 보고, 로봇 위치 XX 와 지도 MM 을 업데이트.
    - **센서 데이터가 독립이면** 확률을 곱셈으로 계산 가능.
      
4. **SLAM에서 베이즈 정리 활용**
    - 칼만 필터(Kalman Filter), 입자 필터(Particle Filter) 등에서 사용됨.

---

## **결론**

베이즈 정리는 **센서 데이터를 기반으로 가장 가능성 높은 로봇의 위치와 환경을 추론하는 방법**을 제공해.  
SLAM에서는 **센서 데이터가 들어올 때마다 베이즈 정리를 이용해서 로봇의 위치와 지도를 점점 더 정확하게 업데이트하는 과정**을 반복하는 거야!

이해 안 되는 부분 있으면 언제든지 질문해줘! 😊


