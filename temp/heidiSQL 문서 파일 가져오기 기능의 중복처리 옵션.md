---
title: heidiSQL 문서 파일 가져오기 기능의 중복처리 옵션
created: 2024-11-07 02:24
alias:
tags:
---
heidiSQL import 기능의 `중복 행 처리` 옵션에 있는 `INSERT`, `INSERT IGNORE`, `REPLACE` 옵션의 의미와 활용 방법은 다음과 같습니다:

### INSERT (오류 발생 가능)
- **의미**: `INSERT`는 중복된 데이터가 있더라도 중복 검사 없이 무조건 데이터를 삽입하려는 옵션입니다.
- **활용 방법**: 데이터베이스에 중복된 데이터가 존재하지 않는다는 확신이 있거나, 중복된 데이터가 삽입되더라도 관계 없을 때 사용합니다.
- **주의점**: 중복된 기본 키(primary key)나 고유 제약 조건(unique constraint)이 있는 열에 동일한 데이터가 들어가려고 하면 오류가 발생하여 삽입이 중단됩니다. 이 경우, 중복된 행이 있으면 실패하며 전체 작업이 취소될 수 있습니다.

### INSERT IGNORE (중복 무시)
- **의미**: `INSERT IGNORE`는 중복된 데이터가 있을 경우 해당 행의 삽입을 무시하고 넘어가는 옵션입니다. 즉, 중복된 행이 있을 때 이를 건너뛰고 나머지 행들만 삽입합니다.
- **활용 방법**: 데이터 삽입 중에 중복된 데이터가 일부 있을 수 있지만, 이러한 중복이 있어도 작업이 계속되어야 하는 경우 사용합니다. 데이터 중복으로 인해 작업이 중단되지 않고 계속 진행되므로, 대량 데이터 입력 시 유용합니다.
- **주의점**: 중복된 데이터가 존재해도 에러 없이 무시되므로, 실제로 몇 개의 데이터가 삽입되었는지 확인이 필요할 수 있습니다.

### REPLACE (중복 덮어쓰기)
- **의미**: `REPLACE`는 중복된 데이터가 있을 경우 기존 데이터를 덮어씌우고 새 데이터를 삽입하는 방식입니다. 기존 행을 삭제하고 새 행을 삽입하는 동작을 수행합니다.
- **활용 방법**: 동일한 기본 키나 고유한 값이 있는 행이 이미 존재할 때, 그 데이터를 새로운 값으로 덮어씌워 갱신하려는 경우에 유용합니다. 기존의 데이터를 갱신해야 하는 경우 이 옵션을 선택합니다.
- **주의점**: `REPLACE`는 기존 데이터를 삭제 후 삽입하므로 외래 키 제약 조건(foreign key constraint)이 있는 경우 주의해야 합니다. 삭제 후 다시 삽입이 이루어지기 때문에 `AUTO_INCREMENT` 필드가 영향을 받을 수 있습니다.

### 요약

1. **INSERT**: 중복 데이터가 있으면 오류가 발생하며 작업 중단 가능.
2. **INSERT IGNORE**: 중복 데이터는 무시하고 나머지만 삽입, 작업 중단 없음.
3. **REPLACE**: 중복 데이터가 있으면 기존 데이터를 삭제하고 새로운 데이터로 교체.
4. 대량 데이터 삽입 시 중복 가능성에 따라 `IGNORE` 또는 `REPLACE` 사용.
5. `INSERT`는 중복 시 에러 발생, `IGNORE`는 무시, `REPLACE`는 덮어쓰기.
6. 데이터베이스 제약 조건을 고려하여 적절한 옵션 선택 필요.

Q1 : 중복 데이터를 확인하면서도 삽입 성능을 높이기 위한 전략은?  
Q2 : `REPLACE` 사용 시 외래 키 제약 조건이 있을 때 주의할 점은 무엇인가요?


