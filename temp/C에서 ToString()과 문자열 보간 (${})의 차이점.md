---
title: C에서 ToString()과 문자열 보간 (${})의 차이점
created: 2024-08-28 08:08
alias:
tags:
---
#### 1. **기본 개념**
   - **`ToString()` 메서드:** 객체를 문자열로 변환하는 데 사용됩니다. 거의 모든 객체는 `ToString()` 메서드를 가지고 있으며, 기본적으로 객체의 문자열 표현을 반환합니다. 
   - **문자열 보간(`$"{}`"):** 문자열 내에서 변수나 표현식을 쉽게 삽입할 수 있게 해주는 기능입니다. 문자열 보간식 안에 변수를 넣으면 자동으로 `ToString()` 메서드가 호출됩니다.

#### 2. **`null` 처리**
##### ToString()
 - `ToString()`을 `null` 객체에 호출하면 `NullReferenceException`이 발생합니다.
###### 예시
```csharp
object obj = null;
string result = obj.ToString(); // 에러 발생
```
   
##### 보간
보간 표현식에서 `null` 값을 허용하며, `null`을 자동으로 `"null"` 문자열로 변환합니다.
###### 예시
```csharp
object obj = null;
string result = $"{obj}"; // "null"이라는 문자열 반환
```

#### 3. **사용의 편리함**
##### **`ToString()` 메서드:**
- 특정 형식이나 복잡한 형식으로 변환해야 할 때 사용됩니다. 예를 들어 숫자 형식을 특정 형식으로 변환하려면:
```csharp
int number = 123;
string formatted = number.ToString("0000"); // "0123"
```

##### **문자열 보간(`$"{}`"):**
 - 여러 변수를 간단히 문자열로 결합할 때 유용합니다. 더 가독성이 좋고, 복잡한 문자열 구성에서 코드가 깔끔해집니다.
###### 예시
```csharp
int number = 123;
string name = "John";
string result = $"Name: {name}, Number: {number}"; // "Name: John, Number: 123"
```

#### 4. **성능**
##### **`ToString()` 메서드:**
 - 단일 값의 문자열 변환에 사용되므로 간단한 변환에 적합합니다.
##### **문자열 보간(`$"{}`"):**
 - 여러 값을 하나의 문자열로 결합할 때 성능이 우수합니다. 하지만 다수의 값이 보간될 경우, 내부적으로 더 많은 메모리 할당이 발생할 수 있습니다.

#### 5. **확장성**
##### **`ToString()` 메서드:**
 - `IFormattable` 인터페이스를 구현한 객체에서는 `ToString()` 메서드에 특정 형식을 지정할 수 있습니다. 예를 들어:
```csharp
DateTime now = DateTime.Now;
string formatted = now.ToString("yyyy-MM-dd"); // "2024-08-27"
```

##### **문자열 보간(`$"{}`"):**
- 문자열 보간에서도 형식을 지정할 수 있습니다. 예를 들어:
```csharp
DateTime now = DateTime.Now;
string formatted = $"{now:yyyy-MM-dd}"; // "2024-08-27"
```

#### 6. **예외 처리**
   - **`ToString()` 메서드:**
     - `null` 객체에 사용하면 예외가 발생하므로, 사용 전에 null 체크가 필요합니다.
   - **문자열 보간(`$"{}`"):**
     - `null` 처리가 자동으로 이루어져, 예외 발생을 피할 수 있습니다.

### 요약
1. `ToString()`은 객체를 문자열로 변환하며, `null`에 사용하면 예외가 발생.
2. 문자열 보간(`$"{}`")은 변수를 문자열 내에 쉽게 삽입할 수 있는 방법.
3. `ToString()`은 형식 지정에 강력하며, 특정한 형식이 필요할 때 사용.
4. 문자열 보간은 `null`을 자동으로 처리하며, 다수의 변수를 결합할 때 편리.
5. 성능적으로는 단일 변환에 `ToString()`이 적합하고, 복잡한 문자열 조합에서는 보간이 우수.
6. `ToString()`은 확장성이 높고, 보간에서도 형식 지정이 가능.

Q1 : 문자열 보간과 `ToString()` 메서드를 언제 사용하면 좋을까?  
Q2 : `null` 처리가 필요한 상황에서 안전하게 `ToString()`을 사용하는 방법은 무엇일까?


